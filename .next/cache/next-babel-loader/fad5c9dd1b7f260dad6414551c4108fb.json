{"ast":null,"code":"import { hundleResponse } from \"./hataYoetimi\";\nconst baseUrl = process.env.BASE_URL;\n\nconst getToken = () => {\n  return window.localStorage.getItem(process.env.TOKEN_NAME);\n};\n\nexport const getData = async (url, token) => {\n  try {\n    const res = await fetch(`${baseUrl}${url}`, {\n      method: 'GET',\n      headers: {\n        'Authorization': token && getToken()\n      }\n    });\n\n    if (res.status != 200) {\n      throw res;\n    }\n\n    ;\n    const string = await res.text();\n    const data = string === \"\" ? {} : JSON.parse(string);\n    return data;\n  } catch (err) {\n    var res = hundleResponse(err);\n    throw res;\n  }\n};\nexport const postData = async (url, post, token) => {\n  try {\n    const res = await fetch(`${baseUrl}${url}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': token\n      },\n      body: JSON.stringify(post)\n    });\n\n    if (res.status != 200) {\n      throw res;\n    }\n\n    ;\n    const string = await res.text();\n    const data = string === \"\" ? {} : JSON.parse(string);\n    return data;\n  } catch (err) {\n    var res = hundleResponse(err);\n    throw res;\n  }\n};\nexport const putData = async (url, post, token) => {\n  const res = await fetch(`${baseUrl}${url}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': token\n    },\n    body: JSON.stringify(post)\n  });\n  const data = await res.json();\n  return data;\n};\nexport const patchData = async (url, post, token) => {\n  const res = await fetch(`${baseUrl}${url}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': token\n    },\n    body: JSON.stringify(post)\n  });\n  const data = await res.json();\n  return data;\n};\nexport const deleteData = async (url, token) => {\n  const res = await fetch(`${baseUrl}${url}`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': token\n    }\n  });\n  const data = await res.json();\n  return data;\n};","map":{"version":3,"names":["hundleResponse","baseUrl","process","env","BASE_URL","getToken","window","localStorage","getItem","TOKEN_NAME","getData","url","token","res","fetch","method","headers","status","string","text","data","JSON","parse","err","postData","post","body","stringify","putData","json","patchData","deleteData"],"sources":["C:/Users/Abdulhekim abdullah/Desktop/News project/backend/NSiteApi/nextClient/utils/fetchData.js"],"sourcesContent":["import { hundleResponse } from \"./hataYoetimi\";\r\n\r\nconst baseUrl = process.env.BASE_URL;\r\n\r\nconst getToken = ()=>{\r\n    return window.localStorage.getItem(process.env.TOKEN_NAME);\r\n}\r\n\r\nexport const getData = async (url, token) => {\r\n    try{\r\n        const res = await fetch(`${baseUrl}${url}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization':    token && getToken()\r\n            }\r\n        })\r\n        if(res.status != 200) {\r\n            throw res\r\n        };\r\n    \r\n        const string = await res.text();\r\n        const data = string === \"\" ? {} : JSON.parse(string);\r\n        return data;\r\n    }catch(err){\r\n        var res = hundleResponse(err);\r\n        throw res;\r\n    }\r\n\r\n}\r\n\r\nexport const postData = async (url, post, token) => {\r\n    try{\r\n        const res = await fetch(`${baseUrl}${url}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n            },\r\n            body: JSON.stringify(post)\r\n        });\r\n\r\n        if(res.status != 200) {\r\n            throw res;\r\n        };\r\n        const string = await res.text();\r\n        const data = string === \"\" ? {} : JSON.parse(string);\r\n        return data;\r\n    }catch(err){\r\n        var res = hundleResponse(err);\r\n        throw res;\r\n    }\r\n}\r\n\r\nexport const putData = async (url, post, token) => {\r\n    const res = await fetch(`${baseUrl}${url}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': token\r\n        },\r\n        body: JSON.stringify(post)\r\n    })\r\n\r\n    const data = await res.json()\r\n    return data\r\n}\r\n\r\nexport const patchData = async (url, post, token) => {\r\n    const res = await fetch(`${baseUrl}${url}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': token\r\n        },\r\n        body: JSON.stringify(post)\r\n    })\r\n\r\n    const data = await res.json()\r\n    return data\r\n}\r\n\r\n\r\nexport const deleteData = async (url, token) => {\r\n    const res = await fetch(`${baseUrl}${url}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': token\r\n        }\r\n    })\r\n\r\n    const data = await res.json()\r\n    return data\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}