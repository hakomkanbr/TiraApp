{"ast":null,"code":"import _app from \"./_app\";\nimport Swal from \"sweetalert2\";\n\nconst convertErrorsToHtml = (errors, htmlType) => {\n  let html = ``;\n\n  if (Array.isArray(errors) && errors.length > 0) {\n    errors.map((err, i) => {\n      html += `<ul class=\"callout callout-${(err === null || err === void 0 ? void 0 : err.key) == \"error\" ? \"danger\" : err.key != null ? err.key : \"danger\"}\"> <li> ${err !== null && err !== void 0 && err.title ? `<div>${err.title}</div>` : \"\"}${err !== null && err !== void 0 && err.description ? err.description : \"istek sırasında bir hata oluştu\"}</li>\n      </ul>`;\n    });\n  } else {\n    html = `<ul class=\"callout callout-${(errors === null || errors === void 0 ? void 0 : errors.key) == \"error\" ? \"danger\" : (errors === null || errors === void 0 ? void 0 : errors.key) != null ? errors.key : \"danger\"}\"> <li> ${errors !== null && errors !== void 0 && errors.title ? `<div>${errors.title}</div>` : \"\"}${errors !== null && errors !== void 0 && errors.description ? errors.description + \" <b>(\" + errors.code + \")</b>\" : \"istek sırasında bir hata oluştu\"}</li>\n   \n    </ul>`;\n  }\n\n  return html;\n};\n\nconst ErrorProvider = ({\n  response\n}) => {\n  console.log(response);\n  let {\n    data\n  } = response;\n  console.info(\"data\");\n  console.info(data);\n  var icon = Array.isArray(data) ? \"info\" : typeof data === \"object\" ? data === null || data === void 0 ? void 0 : data.key : \"info\";\n  var html = convertErrorsToHtml(data);\n  console.info(\"icon_____!\");\n  console.info(icon);\n  Swal.fire({\n    title: Array.isArray(data) ? \"Uyarı\" : typeof data === \"object\" ? data === null || data === void 0 ? void 0 : data.title : \"Uyarı\",\n    icon: icon,\n    html: html,\n    showConfirmButton: false,\n    showCancelButton: true,\n    cancelButtonText: \"Tamam\"\n  });\n};\n\nexport const ErrorProviderCallout = ({\n  response\n}) => {\n  if (!response) return;\n  let {\n    data,\n    status\n  } = response;\n  var html = convertErrorsToHtml(data);\n\n  if (status === 403) {\n    var y = document.getElementById(\"site-content\");\n    console.info(y);\n    if (!y) return;\n    y.innerHTML = `${html}`;\n    return;\n  }\n\n  var x = document.getElementById(\"error-content\");\n  if (!x) return;\n  x.innerHTML = `${html}`;\n};\nexport const hundleResponse = async res => {\n  console.info(res);\n\n  if (res.status == 400 || res.status == 500) {\n    ErrorProvider(await res.json());\n    return;\n  }\n\n  if (res.status == 401) {\n    Swal.fire(\"error\", \"token in valid\", \"error\");\n    return;\n  }\n\n  return res;\n};\nexport default ErrorProvider;","map":{"version":3,"names":["_app","Swal","convertErrorsToHtml","errors","htmlType","html","Array","isArray","length","map","err","i","key","title","description","code","ErrorProvider","response","console","log","data","info","icon","fire","showConfirmButton","showCancelButton","cancelButtonText","ErrorProviderCallout","status","y","document","getElementById","innerHTML","x","hundleResponse","res","json"],"sources":["C:/Users/Abdulhekim abdullah/Desktop/News project/backend/NSiteApi/nextClient/utils/hataYoetimi.js"],"sourcesContent":["\r\nimport _app from \"./_app\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nconst convertErrorsToHtml = (errors, htmlType) => {\r\n  let html = ``;\r\n  if (Array.isArray(errors) && errors.length > 0) {\r\n    errors.map((err, i) => {\r\n      html += `<ul class=\"callout callout-${\r\n        err?.key == \"error\" ? \"danger\" : err.key != null ? err.key : \"danger\"\r\n      }\"> <li> ${err?.title ? `<div>${err.title}</div>` : \"\"}${\r\n        err?.description ? err.description : \"istek sırasında bir hata oluştu\"\r\n      }</li>\r\n      </ul>`;\r\n    });\r\n  } else {\r\n    html = `<ul class=\"callout callout-${\r\n      errors?.key == \"error\"\r\n        ? \"danger\"\r\n        : errors?.key != null\r\n        ? errors.key\r\n        : \"danger\"\r\n    }\"> <li> ${errors?.title ? `<div>${errors.title}</div>` : \"\"}${\r\n     ( errors?.description\r\n        ? errors.description + \" <b>(\"+errors.code+\")</b>\"\r\n        : \"istek sırasında bir hata oluştu\")\r\n    }</li>\r\n   \r\n    </ul>`;\r\n  }\r\n  return html;\r\n};\r\n\r\nconst ErrorProvider = ({response}) => {\r\n  console.log(response)\r\n  let { data } = response;\r\n\r\n  console.info(\"data\");\r\n  console.info(data);\r\n  var icon = Array.isArray(data)\r\n    ? \"info\"\r\n    : typeof data === \"object\"\r\n    ? data?.key\r\n    : \"info\";\r\n\r\n  var html = convertErrorsToHtml(data);\r\n  console.info(\"icon_____!\");\r\n  console.info(icon);\r\n  Swal.fire({\r\n    title: Array.isArray(data)\r\n      ? \"Uyarı\"\r\n      : typeof data === \"object\"\r\n      ? data?.title\r\n      : \"Uyarı\",\r\n    icon: icon,\r\n    html: html,\r\n    showConfirmButton: false,\r\n    showCancelButton: true,\r\n    cancelButtonText: \"Tamam\",\r\n  });\r\n};\r\n\r\nexport const ErrorProviderCallout = ({response}) => {\r\n  if(!response) return;\r\n  let { data , status} = response;\r\n  var html = convertErrorsToHtml(data);\r\n\r\n  if(status === 403){\r\n    var y = document.getElementById(\"site-content\");\r\n    console.info(y);\r\n    if(!y) return;\r\n    y.innerHTML = `${html}`;\r\n    return;  \r\n  }\r\n\r\n  var x = document.getElementById(\"error-content\");\r\n  if(!x) return;\r\n  x.innerHTML = `${html}`;\r\n \r\n};\r\n\r\n\r\nexport const hundleResponse = async (res)=>{\r\n  console.info(res)\r\n  if(res.status == 400 || res.status == 500){\r\n    ErrorProvider(await res.json());\r\n    return;\r\n  }\r\n\r\n  if(res.status == 401){\r\n    Swal.fire(\"error\" ,  \"token in valid\" , \"error\");\r\n    return;\r\n  }\r\n\r\n  return res;\r\n}\r\n\r\nexport default ErrorProvider;"],"mappings":"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"},"metadata":{},"sourceType":"module"}