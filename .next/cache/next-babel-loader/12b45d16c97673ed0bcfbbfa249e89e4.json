{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport CardCustum from \"../../../components/elements/card/Card\";\nimport dynamic from \"next/dynamic\";\nimport ButtonCustum from \"components/elements/button/Button\";\nimport { useState } from \"react\";\nimport ModalCustum from \"components/elements/modal/Modal\";\nimport { Button, Form, Select } from \"antd\";\nimport InputCustum from \"components/elements/input/Input\";\nimport { postData } from \"utils/fetchData\";\nimport { useDispatch } from 'react-redux';\nimport Tablemenuitems from \"components/utility/datatableSettingButton\";\nimport pointsU from \"points\";\nimport { AiOutlineVerticalAlignTop, AiOutlineVerticalAlignBottom } from \"react-icons/ai\";\nimport { EditOutlined } from '@ant-design/icons';\nimport { reloadDatatable } from \"redux/app/actions\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst TableCustum = dynamic(() => import(\"../../../components/elements/table/Table\"), {\n  // Do not import in server side\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"../../../components/elements/table/Table\")],\n    modules: [\"../../../components/elements/table/Table\"]\n  }\n});\nconst layout = {\n  labelCol: {\n    span: 8\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\n\nconst kategori = () => {\n  const {\n    0: visible,\n    1: setVisible\n  } = useState();\n  const {\n    0: id,\n    1: setId\n  } = useState(0);\n  const [form] = Form.useForm();\n  const dispatch = useDispatch();\n\n  const changeVisible = () => {\n    setVisible(false);\n    form.setFieldsValue({\n      name: \"\",\n      published: false\n    });\n    setId(0);\n  };\n\n  const columnsKategori = [{\n    title: 'title',\n    dataIndex: 'name'\n  }, {\n    title: 'sort',\n    dataIndex: 'sorting'\n  }, {\n    title: 'status',\n    dataIndex: 'published',\n    render: data => data ? \"published\" : \"not published\"\n  }, {\n    title: '',\n    align: \"left\",\n    dataIndex: 'id',\n    render: (data, full, three) => {\n      return /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsx(ButtonCustum, {\n          type: \"default\",\n          disabled: full[\"notUp\"],\n          onClick: async () => {\n            await postData(pointsU.kategoriUp, {\n              id: full[\"id\"]\n            });\n            dispatch(reloadDatatable(Math.random()));\n          },\n          children: /*#__PURE__*/_jsx(AiOutlineVerticalAlignTop, {})\n        }), /*#__PURE__*/_jsx(ButtonCustum, {\n          type: \"default\",\n          disabled: full[\"notDown\"],\n          onClick: async () => {\n            await postData(pointsU.kategoriDown, {\n              id: full[\"id\"]\n            });\n            dispatch(reloadDatatable(Math.random()));\n          },\n          children: /*#__PURE__*/_jsx(AiOutlineVerticalAlignBottom, {})\n        }), full[\"system\"] ? /*#__PURE__*/_jsx(Tablemenuitems, {\n          detay: \"/admin/category/\" + data,\n          sil: {\n            url: pointsU.deleteKategori,\n            id: data,\n            text: full[\"name\"]\n          }\n        }) : /*#__PURE__*/_jsx(Tablemenuitems, {\n          detay: \"/admin/category/\" + data,\n          sil: {\n            url: pointsU.deleteKategori,\n            id: data,\n            disabled: true,\n            text: full[\"name\"]\n          }\n        }), /*#__PURE__*/_jsx(ButtonCustum, {\n          onClick: () => {\n            setVisible(true);\n            form.setFieldsValue({\n              name: full[\"name\"],\n              published: full[\"published\"]\n            });\n            setId(data);\n          },\n          children: /*#__PURE__*/_jsx(EditOutlined, {})\n        })]\n      });\n    }\n  }];\n\n  const onFinish = async values => {\n    try {\n      values.id = id;\n      await postData(\"/Home/AddUpdateCategory\", _objectSpread({}, values), true);\n      setVisible(false);\n      dispatch(reloadDatatable(Math.random()));\n    } catch (err) {// ErrorProvider(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(CardCustum, {\n      extra: /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(ButtonCustum, {\n          onClick: () => {\n            setVisible(true);\n            form.setFieldsValue({\n              name: \"\"\n            });\n          },\n          type: \"primary\",\n          children: \"add product\"\n        })\n      }),\n      title: \" products\",\n      children: /*#__PURE__*/_jsx(TableCustum, {\n        url: \"/Home/GetCategories\",\n        columns: columnsKategori\n      })\n    }), /*#__PURE__*/_jsx(ModalCustum, {\n      footer: \"\",\n      title: \"add new product\",\n      setVisible: changeVisible,\n      visible: visible,\n      children: /*#__PURE__*/_jsxs(Form, _objectSpread(_objectSpread({\n        form: form\n      }, layout), {}, {\n        name: \"nest-messages\",\n        onFinish: onFinish,\n        children: [/*#__PURE__*/_jsx(Form.Item, {\n          name: \"name\",\n          label: \"\\u0627\\u0644\\u0623\\u0633\\u0645\",\n          children: /*#__PURE__*/_jsx(InputCustum, {\n            placeholder: \"\\u0623\\u062F\\u062E\\u0644 \\u0623\\u0633\\u0645 \\u0627\\u0644\\u0642\\u0633\\u0645\"\n          })\n        }), /*#__PURE__*/_jsx(Form.Item, {\n          name: \"published\",\n          label: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\",\n          children: /*#__PURE__*/_jsxs(Select, {\n            placeholder: \"\\u064A\\u0631\\u062C\\u0649 \\u0627\\u0644\\u0623\\u062E\\u062A\\u064A\\u0627\\u0631\",\n            children: [/*#__PURE__*/_jsx(Select.Option, {\n              value: true,\n              children: \"\\u0646\\u0634\\u0631\"\n            }), /*#__PURE__*/_jsx(Select.Option, {\n              value: false,\n              children: \"\\u0639\\u062F\\u0645 \\u0627\\u0644\\u0646\\u0634\\u0631\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(Form.Item, {\n          wrapperCol: _objectSpread(_objectSpread({}, layout.wrapperCol), {}, {\n            offset: 8\n          }),\n          children: /*#__PURE__*/_jsx(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            children: \"\\u0623\\u0631\\u0633\\u0627\\u0644\"\n          })\n        })]\n      }))\n    })]\n  });\n};\n\nexport default kategori;","map":null,"metadata":{},"sourceType":"module"}