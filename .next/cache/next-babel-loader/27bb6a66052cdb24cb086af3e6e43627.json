{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = Image;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _head = _interopRequireDefault(require(\"../next-server/lib/head\"));\n\nvar VALID_LOADING_VALUES = ['lazy', 'eager', undefined];\nvar loaders = new Map([['imgix', imgixLoader], ['cloudinary', cloudinaryLoader], ['akamai', akamaiLoader], ['default', defaultLoader]]);\nvar VALID_LAYOUT_VALUES = ['fill', 'fixed', 'intrinsic', 'responsive', undefined];\nvar imageData = process.env.__NEXT_IMAGE_OPTS;\nvar configDeviceSizes = imageData.deviceSizes,\n    configImageSizes = imageData.imageSizes,\n    configLoader = imageData.loader,\n    configPath = imageData.path,\n    configDomains = imageData.domains; // sort smallest to largest\n\nvar allSizes = [].concat(_toConsumableArray(configDeviceSizes), _toConsumableArray(configImageSizes));\nconfigDeviceSizes.sort(function (a, b) {\n  return a - b;\n});\nallSizes.sort(function (a, b) {\n  return a - b;\n});\nvar cachedObserver;\n\nfunction getObserver() {\n  var IntersectionObserver = true ? window.IntersectionObserver : null; // Return shared instance of IntersectionObserver if already created\n\n  if (cachedObserver) {\n    return cachedObserver;\n  } // Only create shared IntersectionObserver if supported in browser\n\n\n  if (!IntersectionObserver) {\n    return undefined;\n  }\n\n  return cachedObserver = new IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      if (entry.isIntersecting) {\n        var lazyImage = entry.target;\n        unLazifyImage(lazyImage);\n        cachedObserver.unobserve(lazyImage);\n      }\n    });\n  }, {\n    rootMargin: '200px'\n  });\n}\n\nfunction unLazifyImage(lazyImage) {\n  if (lazyImage.dataset.src) {\n    lazyImage.src = lazyImage.dataset.src;\n  }\n\n  if (lazyImage.dataset.srcset) {\n    lazyImage.srcset = lazyImage.dataset.srcset;\n  }\n\n  lazyImage.style.visibility = 'visible';\n  lazyImage.classList.remove('__lazy');\n}\n\nfunction getSizes(width, layout) {\n  if (typeof width !== 'number' || layout === 'fill' || layout === 'responsive') {\n    return {\n      sizes: configDeviceSizes,\n      kind: 'w'\n    };\n  }\n\n  var sizes = _toConsumableArray(new Set([width, width * 2, width * 3].map(function (w) {\n    return allSizes.find(function (p) {\n      return p >= w;\n    }) || allSizes[allSizes.length - 1];\n  })));\n\n  return {\n    sizes: sizes,\n    kind: 'x'\n  };\n}\n\nfunction computeSrc(src, unoptimized, layout, width, quality) {\n  if (unoptimized) {\n    return src;\n  }\n\n  var _getSizes = getSizes(width, layout),\n      sizes = _getSizes.sizes;\n\n  var largest = sizes[sizes.length - 1];\n  return callLoader({\n    src: src,\n    width: largest,\n    quality: quality\n  });\n}\n\nfunction callLoader(loaderProps) {\n  var load = loaders.get(configLoader) || defaultLoader;\n  return load((0, _extends2[\"default\"])({\n    root: configPath\n  }, loaderProps));\n}\n\nfunction generateSrcSet(_ref2) {\n  var src = _ref2.src,\n      unoptimized = _ref2.unoptimized,\n      layout = _ref2.layout,\n      width = _ref2.width,\n      quality = _ref2.quality;\n\n  // At each breakpoint, generate an image url using the loader, such as:\n  // ' www.example.com/foo.jpg?w=480 480w, '\n  if (unoptimized) {\n    return undefined;\n  }\n\n  var _getSizes2 = getSizes(width, layout),\n      sizes = _getSizes2.sizes,\n      kind = _getSizes2.kind;\n\n  return sizes.map(function (size, i) {\n    return \"\".concat(callLoader({\n      src: src,\n      width: size,\n      quality: quality\n    }), \" \").concat(kind === 'w' ? size : i + 1).concat(kind);\n  }).join(', ');\n}\n\nfunction generatePreload(_ref3) {\n  var src = _ref3.src,\n      _ref3$unoptimized = _ref3.unoptimized,\n      unoptimized = _ref3$unoptimized === void 0 ? false : _ref3$unoptimized,\n      layout = _ref3.layout,\n      width = _ref3.width,\n      sizes = _ref3.sizes,\n      quality = _ref3.quality;\n  // This function generates an image preload that makes use of the \"imagesrcset\" and \"imagesizes\"\n  // attributes for preloading responsive images. They're still experimental, but fully backward\n  // compatible, as the link tag includes all necessary attributes, even if the final two are ignored.\n  // See: https://web.dev/preload-responsive-images/\n  return /*#__PURE__*/_react[\"default\"].createElement(_head[\"default\"], null, /*#__PURE__*/_react[\"default\"].createElement(\"link\", {\n    rel: \"preload\",\n    as: \"image\",\n    href: computeSrc(src, unoptimized, layout, width, quality) // @ts-ignore: imagesrcset and imagesizes not yet in the link element type\n    ,\n    imagesrcset: generateSrcSet({\n      src: src,\n      unoptimized: unoptimized,\n      layout: layout,\n      width: width,\n      quality: quality\n    }),\n    imagesizes: sizes\n  }));\n}\n\nfunction getInt(x) {\n  if (typeof x === 'number') {\n    return x;\n  }\n\n  if (typeof x === 'string') {\n    return parseInt(x, 10);\n  }\n\n  return undefined;\n}\n\nfunction Image(_ref) {\n  var src = _ref.src,\n      sizes = _ref.sizes,\n      _ref$unoptimized = _ref.unoptimized,\n      unoptimized = _ref$unoptimized === void 0 ? false : _ref$unoptimized,\n      _ref$priority = _ref.priority,\n      priority = _ref$priority === void 0 ? false : _ref$priority,\n      loading = _ref.loading,\n      className = _ref.className,\n      quality = _ref.quality,\n      width = _ref.width,\n      height = _ref.height,\n      all = (0, _objectWithoutPropertiesLoose2[\"default\"])(_ref, [\"src\", \"sizes\", \"unoptimized\", \"priority\", \"loading\", \"className\", \"quality\", \"width\", \"height\"]);\n  var thisEl = (0, _react.useRef)(null);\n  var rest = all;\n  var layout = sizes ? 'responsive' : 'intrinsic';\n  var unsized = false;\n\n  if ('unsized' in rest) {\n    unsized = Boolean(rest.unsized); // Remove property so it's not spread into image:\n\n    delete rest['unsized'];\n  } else if ('layout' in rest) {\n    // Override default layout if the user specified one:\n    if (rest.layout) layout = rest.layout; // Remove property so it's not spread into image:\n\n    delete rest['layout'];\n  }\n\n  if (true) {\n    if (!src) {\n      throw new Error(\"Image is missing required \\\"src\\\" property. Make sure you pass \\\"src\\\" in props to the `next/image` component. Received: \".concat(JSON.stringify({\n        width: width,\n        height: height,\n        quality: quality\n      })));\n    }\n\n    if (!VALID_LAYOUT_VALUES.includes(layout)) {\n      throw new Error(\"Image with src \\\"\".concat(src, \"\\\" has invalid \\\"layout\\\" property. Provided \\\"\").concat(layout, \"\\\" should be one of \").concat(VALID_LAYOUT_VALUES.map(String).join(','), \".\"));\n    }\n\n    if (!VALID_LOADING_VALUES.includes(loading)) {\n      throw new Error(\"Image with src \\\"\".concat(src, \"\\\" has invalid \\\"loading\\\" property. Provided \\\"\").concat(loading, \"\\\" should be one of \").concat(VALID_LOADING_VALUES.map(String).join(','), \".\"));\n    }\n\n    if (priority && loading === 'lazy') {\n      throw new Error(\"Image with src \\\"\".concat(src, \"\\\" has both \\\"priority\\\" and \\\"loading='lazy'\\\" properties. Only one should be used.\"));\n    }\n\n    if (unsized) {\n      throw new Error(\"Image with src \\\"\".concat(src, \"\\\" has deprecated \\\"unsized\\\" property, which was removed in favor of the \\\"layout='fill'\\\" property\"));\n    }\n  }\n\n  var lazy = loading === 'lazy';\n\n  if (!priority && typeof loading === 'undefined') {\n    lazy = true;\n  }\n\n  if (true && !window.IntersectionObserver) {\n    // Rendering client side on browser without intersection observer\n    lazy = false;\n  }\n\n  (0, _react.useEffect)(function () {\n    var target = thisEl.current;\n\n    if (target && lazy) {\n      var observer = getObserver();\n\n      if (observer) {\n        observer.observe(target);\n        return function () {\n          observer.unobserve(target);\n        };\n      } else {\n        //browsers without intersection observer\n        unLazifyImage(target);\n      }\n    }\n  }, [thisEl, lazy]);\n  var widthInt = getInt(width);\n  var heightInt = getInt(height);\n  var qualityInt = getInt(quality);\n  var wrapperStyle;\n  var sizerStyle;\n  var sizerSvg;\n  var imgStyle = {\n    visibility: lazy ? 'hidden' : 'visible',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n    boxSizing: 'border-box',\n    padding: 0,\n    border: 'none',\n    margin: 'auto',\n    display: 'block',\n    width: 0,\n    height: 0,\n    minWidth: '100%',\n    maxWidth: '100%',\n    minHeight: '100%',\n    maxHeight: '100%'\n  };\n\n  if (typeof widthInt !== 'undefined' && typeof heightInt !== 'undefined' && layout !== 'fill') {\n    // <Image src=\"i.png\" width=\"100\" height=\"100\" />\n    var quotient = heightInt / widthInt;\n    var paddingTop = isNaN(quotient) ? '100%' : \"\".concat(quotient * 100, \"%\");\n\n    if (layout === 'responsive') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"responsive\" />\n      wrapperStyle = {\n        display: 'block',\n        overflow: 'hidden',\n        position: 'relative',\n        boxSizing: 'border-box',\n        margin: 0\n      };\n      sizerStyle = {\n        display: 'block',\n        boxSizing: 'border-box',\n        paddingTop: paddingTop\n      };\n    } else if (layout === 'intrinsic') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"intrinsic\" />\n      wrapperStyle = {\n        display: 'inline-block',\n        maxWidth: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n        boxSizing: 'border-box',\n        margin: 0\n      };\n      sizerStyle = {\n        boxSizing: 'border-box',\n        display: 'block',\n        maxWidth: '100%'\n      };\n      sizerSvg = \"<svg width=\\\"\".concat(widthInt, \"\\\" height=\\\"\").concat(heightInt, \"\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\"/>\");\n    } else if (layout === 'fixed') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"fixed\" />\n      wrapperStyle = {\n        overflow: 'hidden',\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        position: 'relative',\n        width: widthInt,\n        height: heightInt\n      };\n    }\n  } else if (typeof widthInt === 'undefined' && typeof heightInt === 'undefined' && layout === 'fill') {\n    // <Image src=\"i.png\" layout=\"fill\" />\n    wrapperStyle = {\n      display: 'block',\n      overflow: 'hidden',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0,\n      boxSizing: 'border-box',\n      margin: 0\n    };\n  } else {\n    // <Image src=\"i.png\" />\n    if (true) {\n      throw new Error(\"Image with src \\\"\".concat(src, \"\\\" must use \\\"width\\\" and \\\"height\\\" properties or \\\"layout='fill'\\\" property.\"));\n    }\n  } // Generate attribute values\n\n\n  var imgSrc = computeSrc(src, unoptimized, layout, widthInt, qualityInt);\n  var imgSrcSet = generateSrcSet({\n    src: src,\n    unoptimized: unoptimized,\n    layout: layout,\n    width: widthInt,\n    quality: qualityInt\n  });\n  var imgAttributes;\n\n  if (!lazy) {\n    imgAttributes = {\n      src: imgSrc\n    };\n\n    if (imgSrcSet) {\n      imgAttributes.srcSet = imgSrcSet;\n    }\n  } else {\n    imgAttributes = {\n      'data-src': imgSrc\n    };\n\n    if (imgSrcSet) {\n      imgAttributes['data-srcset'] = imgSrcSet;\n    }\n\n    className = className ? className + ' __lazy' : '__lazy';\n  } // No need to add preloads on the client side--by the time the application is hydrated,\n  // it's too late for preloads\n\n\n  var shouldPreload = priority && false;\n\n  if (unsized) {\n    wrapperStyle = undefined;\n    sizerStyle = undefined;\n    imgStyle = undefined;\n  }\n\n  return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: wrapperStyle\n  }, shouldPreload ? generatePreload({\n    src: src,\n    layout: layout,\n    unoptimized: unoptimized,\n    width: widthInt,\n    sizes: sizes,\n    quality: qualityInt\n  }) : null, sizerStyle ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n    style: sizerStyle\n  }, sizerSvg ? /*#__PURE__*/_react[\"default\"].createElement(\"img\", {\n    style: {\n      maxWidth: '100%',\n      display: 'block'\n    },\n    alt: \"\",\n    \"aria-hidden\": true,\n    role: \"presentation\",\n    src: \"data:image/svg+xml;charset=utf-8,\".concat(sizerSvg)\n  }) : null) : null, /*#__PURE__*/_react[\"default\"].createElement(\"img\", Object.assign({}, rest, imgAttributes, {\n    decoding: \"async\",\n    className: className,\n    sizes: sizes,\n    ref: thisEl,\n    style: imgStyle\n  })));\n} //BUILT IN LOADERS\n\n\n_c = Image;\n\nfunction normalizeSrc(src) {\n  return src[0] === '/' ? src.slice(1) : src;\n}\n\nfunction imgixLoader(_ref4) {\n  var root = _ref4.root,\n      src = _ref4.src,\n      width = _ref4.width,\n      quality = _ref4.quality;\n  // Demo: https://static.imgix.net/daisy.png?format=auto&fit=max&w=300\n  var params = ['auto=format', 'fit=max', 'w=' + width];\n  var paramsString = '';\n\n  if (quality) {\n    params.push('q=' + quality);\n  }\n\n  if (params.length) {\n    paramsString = '?' + params.join('&');\n  }\n\n  return \"\".concat(root).concat(normalizeSrc(src)).concat(paramsString);\n}\n\nfunction akamaiLoader(_ref5) {\n  var root = _ref5.root,\n      src = _ref5.src,\n      width = _ref5.width;\n  return \"\".concat(root).concat(normalizeSrc(src), \"?imwidth=\").concat(width);\n}\n\nfunction cloudinaryLoader(_ref6) {\n  var root = _ref6.root,\n      src = _ref6.src,\n      width = _ref6.width,\n      quality = _ref6.quality;\n  // Demo: https://res.cloudinary.com/demo/image/upload/w_300,c_limit/turtles.jpg\n  var params = ['f_auto', 'c_limit', 'w_' + width];\n  var paramsString = '';\n\n  if (quality) {\n    params.push('q_' + quality);\n  }\n\n  if (params.length) {\n    paramsString = params.join(',') + '/';\n  }\n\n  return \"\".concat(root).concat(paramsString).concat(normalizeSrc(src));\n}\n\nfunction defaultLoader(_ref7) {\n  var root = _ref7.root,\n      src = _ref7.src,\n      width = _ref7.width,\n      quality = _ref7.quality;\n\n  if (true) {\n    var missingValues = []; // these should always be provided but make sure they are\n\n    if (!src) missingValues.push('src');\n    if (!width) missingValues.push('width');\n\n    if (missingValues.length > 0) {\n      throw new Error(\"Next Image Optimization requires \".concat(missingValues.join(', '), \" to be provided. Make sure you pass them as props to the `next/image` component. Received: \").concat(JSON.stringify({\n        src: src,\n        width: width,\n        quality: quality\n      })));\n    }\n\n    if (src && !src.startsWith('/') && configDomains) {\n      var parsedSrc;\n\n      try {\n        parsedSrc = new URL(src);\n      } catch (err) {\n        console.error(err);\n        throw new Error(\"Failed to parse \\\"\".concat(src, \"\\\" in \\\"next/image\\\", if using relative image it must start with a leading slash \\\"/\\\" or be an absolute URL (http:// or https://)\"));\n      }\n\n      if (!configDomains.includes(parsedSrc.hostname)) {\n        throw new Error(\"Invalid src prop (\".concat(src, \") on `next/image`, hostname \\\"\").concat(parsedSrc.hostname, \"\\\" is not configured under images in your `next.config.js`\\n\") + \"See more info: https://err.sh/nextjs/next-image-unconfigured-host\");\n      }\n    }\n  }\n\n  return \"\".concat(root, \"?url=\").concat(encodeURIComponent(src), \"&w=\").concat(width, \"&q=\").concat(quality || 75);\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Image\");","map":{"version":3,"sources":["../../client/image.tsx"],"names":["VALID_LOADING_VALUES","loaders","VALID_LAYOUT_VALUES","imageData","process","deviceSizes","imageSizes","loader","path","domains","allSizes","configDeviceSizes","a","IntersectionObserver","window","cachedObserver","entries","entry","lazyImage","unLazifyImage","rootMargin","layout","sizes","kind","width","w","p","getSizes","largest","callLoader","src","quality","load","root","i","unoptimized","computeSrc","generateSrcSet","parseInt","priority","all","thisEl","rest","unsized","Boolean","JSON","height","loading","lazy","target","observer","getObserver","widthInt","getInt","heightInt","qualityInt","imgStyle","visibility","position","top","left","bottom","right","boxSizing","padding","border","margin","display","minWidth","maxWidth","minHeight","maxHeight","quotient","paddingTop","isNaN","wrapperStyle","overflow","sizerStyle","sizerSvg","imgSrc","imgSrcSet","imgAttributes","className","shouldPreload","generatePreload","params","paramsString","normalizeSrc","missingValues","parsedSrc","console","configDomains","encodeURIComponent"],"mappings":"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","sourcesContent":["import React, { ReactElement, useEffect, useRef } from 'react'\nimport Head from '../next-server/lib/head'\n\nconst VALID_LOADING_VALUES = ['lazy', 'eager', undefined] as const\ntype LoadingValue = typeof VALID_LOADING_VALUES[number]\n\nconst loaders = new Map<LoaderKey, (props: LoaderProps) => string>([\n  ['imgix', imgixLoader],\n  ['cloudinary', cloudinaryLoader],\n  ['akamai', akamaiLoader],\n  ['default', defaultLoader],\n])\n\ntype LoaderKey = 'imgix' | 'cloudinary' | 'akamai' | 'default'\n\nconst VALID_LAYOUT_VALUES = [\n  'fill',\n  'fixed',\n  'intrinsic',\n  'responsive',\n  undefined,\n] as const\ntype LayoutValue = typeof VALID_LAYOUT_VALUES[number]\n\ntype ImageData = {\n  deviceSizes: number[]\n  imageSizes: number[]\n  loader: LoaderKey\n  path: string\n  domains?: string[]\n}\n\ntype ImageProps = Omit<\n  JSX.IntrinsicElements['img'],\n  'src' | 'srcSet' | 'ref' | 'width' | 'height' | 'loading'\n> & {\n  src: string\n  quality?: number | string\n  priority?: boolean\n  loading?: LoadingValue\n  unoptimized?: boolean\n} & (\n    | {\n        width?: never\n        height?: never\n        /** @deprecated Use `layout=\"fill\"` instead */\n        unsized: true\n      }\n    | { width?: never; height?: never; layout: 'fill' }\n    | {\n        width: number | string\n        height: number | string\n        layout?: Exclude<LayoutValue, 'fill'>\n      }\n  )\n\nconst imageData: ImageData = process.env.__NEXT_IMAGE_OPTS as any\nconst {\n  deviceSizes: configDeviceSizes,\n  imageSizes: configImageSizes,\n  loader: configLoader,\n  path: configPath,\n  domains: configDomains,\n} = imageData\n// sort smallest to largest\nconst allSizes = [...configDeviceSizes, ...configImageSizes]\nconfigDeviceSizes.sort((a, b) => a - b)\nallSizes.sort((a, b) => a - b)\n\nlet cachedObserver: IntersectionObserver\n\nfunction getObserver(): IntersectionObserver | undefined {\n  const IntersectionObserver =\n    typeof window !== 'undefined' ? window.IntersectionObserver : null\n  // Return shared instance of IntersectionObserver if already created\n  if (cachedObserver) {\n    return cachedObserver\n  }\n\n  // Only create shared IntersectionObserver if supported in browser\n  if (!IntersectionObserver) {\n    return undefined\n  }\n  return (cachedObserver = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          let lazyImage = entry.target as HTMLImageElement\n          unLazifyImage(lazyImage)\n          cachedObserver.unobserve(lazyImage)\n        }\n      })\n    },\n    { rootMargin: '200px' }\n  ))\n}\n\nfunction unLazifyImage(lazyImage: HTMLImageElement): void {\n  if (lazyImage.dataset.src) {\n    lazyImage.src = lazyImage.dataset.src\n  }\n  if (lazyImage.dataset.srcset) {\n    lazyImage.srcset = lazyImage.dataset.srcset\n  }\n  lazyImage.style.visibility = 'visible'\n  lazyImage.classList.remove('__lazy')\n}\n\nfunction getSizes(\n  width: number | undefined,\n  layout: LayoutValue\n): { sizes: number[]; kind: 'w' | 'x' } {\n  if (\n    typeof width !== 'number' ||\n    layout === 'fill' ||\n    layout === 'responsive'\n  ) {\n    return { sizes: configDeviceSizes, kind: 'w' }\n  }\n\n  const sizes = [\n    ...new Set(\n      [width, width * 2, width * 3].map(\n        (w) => allSizes.find((p) => p >= w) || allSizes[allSizes.length - 1]\n      )\n    ),\n  ]\n  return { sizes, kind: 'x' }\n}\n\nfunction computeSrc(\n  src: string,\n  unoptimized: boolean,\n  layout: LayoutValue,\n  width?: number,\n  quality?: number\n): string {\n  if (unoptimized) {\n    return src\n  }\n  const { sizes } = getSizes(width, layout)\n  const largest = sizes[sizes.length - 1]\n  return callLoader({ src, width: largest, quality })\n}\n\ntype CallLoaderProps = {\n  src: string\n  width: number\n  quality?: number\n}\n\nfunction callLoader(loaderProps: CallLoaderProps) {\n  const load = loaders.get(configLoader) || defaultLoader\n  return load({ root: configPath, ...loaderProps })\n}\n\ntype SrcSetData = {\n  src: string\n  unoptimized: boolean\n  layout: LayoutValue\n  width?: number\n  quality?: number\n}\n\nfunction generateSrcSet({\n  src,\n  unoptimized,\n  layout,\n  width,\n  quality,\n}: SrcSetData): string | undefined {\n  // At each breakpoint, generate an image url using the loader, such as:\n  // ' www.example.com/foo.jpg?w=480 480w, '\n  if (unoptimized) {\n    return undefined\n  }\n\n  const { sizes, kind } = getSizes(width, layout)\n  return sizes\n    .map(\n      (size, i) =>\n        `${callLoader({ src, width: size, quality })} ${\n          kind === 'w' ? size : i + 1\n        }${kind}`\n    )\n    .join(', ')\n}\n\ntype PreloadData = {\n  src: string\n  unoptimized: boolean\n  layout: LayoutValue\n  width: number | undefined\n  sizes?: string\n  quality?: number\n}\n\nfunction generatePreload({\n  src,\n  unoptimized = false,\n  layout,\n  width,\n  sizes,\n  quality,\n}: PreloadData): ReactElement {\n  // This function generates an image preload that makes use of the \"imagesrcset\" and \"imagesizes\"\n  // attributes for preloading responsive images. They're still experimental, but fully backward\n  // compatible, as the link tag includes all necessary attributes, even if the final two are ignored.\n  // See: https://web.dev/preload-responsive-images/\n  return (\n    <Head>\n      <link\n        rel=\"preload\"\n        as=\"image\"\n        href={computeSrc(src, unoptimized, layout, width, quality)}\n        // @ts-ignore: imagesrcset and imagesizes not yet in the link element type\n        imagesrcset={generateSrcSet({\n          src,\n          unoptimized,\n          layout,\n          width,\n          quality,\n        })}\n        imagesizes={sizes}\n      />\n    </Head>\n  )\n}\n\nfunction getInt(x: unknown): number | undefined {\n  if (typeof x === 'number') {\n    return x\n  }\n  if (typeof x === 'string') {\n    return parseInt(x, 10)\n  }\n  return undefined\n}\n\nexport default function Image({\n  src,\n  sizes,\n  unoptimized = false,\n  priority = false,\n  loading,\n  className,\n  quality,\n  width,\n  height,\n  ...all\n}: ImageProps) {\n  const thisEl = useRef<HTMLImageElement>(null)\n\n  let rest: Partial<ImageProps> = all\n  let layout: NonNullable<LayoutValue> = sizes ? 'responsive' : 'intrinsic'\n  let unsized = false\n  if ('unsized' in rest) {\n    unsized = Boolean(rest.unsized)\n    // Remove property so it's not spread into image:\n    delete rest['unsized']\n  } else if ('layout' in rest) {\n    // Override default layout if the user specified one:\n    if (rest.layout) layout = rest.layout\n\n    // Remove property so it's not spread into image:\n    delete rest['layout']\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (!src) {\n      throw new Error(\n        `Image is missing required \"src\" property. Make sure you pass \"src\" in props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { width, height, quality }\n        )}`\n      )\n    }\n    if (!VALID_LAYOUT_VALUES.includes(layout)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"layout\" property. Provided \"${layout}\" should be one of ${VALID_LAYOUT_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (!VALID_LOADING_VALUES.includes(loading)) {\n      throw new Error(\n        `Image with src \"${src}\" has invalid \"loading\" property. Provided \"${loading}\" should be one of ${VALID_LOADING_VALUES.map(\n          String\n        ).join(',')}.`\n      )\n    }\n    if (priority && loading === 'lazy') {\n      throw new Error(\n        `Image with src \"${src}\" has both \"priority\" and \"loading='lazy'\" properties. Only one should be used.`\n      )\n    }\n    if (unsized) {\n      throw new Error(\n        `Image with src \"${src}\" has deprecated \"unsized\" property, which was removed in favor of the \"layout='fill'\" property`\n      )\n    }\n  }\n\n  let lazy = loading === 'lazy'\n  if (!priority && typeof loading === 'undefined') {\n    lazy = true\n  }\n\n  if (typeof window !== 'undefined' && !window.IntersectionObserver) {\n    // Rendering client side on browser without intersection observer\n    lazy = false\n  }\n\n  useEffect(() => {\n    const target = thisEl.current\n\n    if (target && lazy) {\n      const observer = getObserver()\n\n      if (observer) {\n        observer.observe(target)\n\n        return () => {\n          observer.unobserve(target)\n        }\n      } else {\n        //browsers without intersection observer\n        unLazifyImage(target)\n      }\n    }\n  }, [thisEl, lazy])\n\n  const widthInt = getInt(width)\n  const heightInt = getInt(height)\n  const qualityInt = getInt(quality)\n\n  let wrapperStyle: JSX.IntrinsicElements['div']['style'] | undefined\n  let sizerStyle: JSX.IntrinsicElements['div']['style'] | undefined\n  let sizerSvg: string | undefined\n  let imgStyle: JSX.IntrinsicElements['img']['style'] = {\n    visibility: lazy ? 'hidden' : 'visible',\n\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n\n    boxSizing: 'border-box',\n    padding: 0,\n    border: 'none',\n    margin: 'auto',\n\n    display: 'block',\n    width: 0,\n    height: 0,\n    minWidth: '100%',\n    maxWidth: '100%',\n    minHeight: '100%',\n    maxHeight: '100%',\n  }\n  if (\n    typeof widthInt !== 'undefined' &&\n    typeof heightInt !== 'undefined' &&\n    layout !== 'fill'\n  ) {\n    // <Image src=\"i.png\" width=\"100\" height=\"100\" />\n    const quotient = heightInt / widthInt\n    const paddingTop = isNaN(quotient) ? '100%' : `${quotient * 100}%`\n    if (layout === 'responsive') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"responsive\" />\n      wrapperStyle = {\n        display: 'block',\n        overflow: 'hidden',\n        position: 'relative',\n\n        boxSizing: 'border-box',\n        margin: 0,\n      }\n      sizerStyle = { display: 'block', boxSizing: 'border-box', paddingTop }\n    } else if (layout === 'intrinsic') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"intrinsic\" />\n      wrapperStyle = {\n        display: 'inline-block',\n        maxWidth: '100%',\n        overflow: 'hidden',\n        position: 'relative',\n        boxSizing: 'border-box',\n        margin: 0,\n      }\n      sizerStyle = {\n        boxSizing: 'border-box',\n        display: 'block',\n        maxWidth: '100%',\n      }\n      sizerSvg = `<svg width=\"${widthInt}\" height=\"${heightInt}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>`\n    } else if (layout === 'fixed') {\n      // <Image src=\"i.png\" width=\"100\" height=\"100\" layout=\"fixed\" />\n      wrapperStyle = {\n        overflow: 'hidden',\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        position: 'relative',\n        width: widthInt,\n        height: heightInt,\n      }\n    }\n  } else if (\n    typeof widthInt === 'undefined' &&\n    typeof heightInt === 'undefined' &&\n    layout === 'fill'\n  ) {\n    // <Image src=\"i.png\" layout=\"fill\" />\n    wrapperStyle = {\n      display: 'block',\n      overflow: 'hidden',\n\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      bottom: 0,\n      right: 0,\n\n      boxSizing: 'border-box',\n      margin: 0,\n    }\n  } else {\n    // <Image src=\"i.png\" />\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error(\n        `Image with src \"${src}\" must use \"width\" and \"height\" properties or \"layout='fill'\" property.`\n      )\n    }\n  }\n\n  // Generate attribute values\n  const imgSrc = computeSrc(src, unoptimized, layout, widthInt, qualityInt)\n  const imgSrcSet = generateSrcSet({\n    src,\n    unoptimized,\n    layout,\n    width: widthInt,\n    quality: qualityInt,\n  })\n\n  let imgAttributes:\n    | {\n        src: string\n        srcSet?: string\n      }\n    | {\n        'data-src': string\n        'data-srcset'?: string\n      }\n  if (!lazy) {\n    imgAttributes = {\n      src: imgSrc,\n    }\n    if (imgSrcSet) {\n      imgAttributes.srcSet = imgSrcSet\n    }\n  } else {\n    imgAttributes = {\n      'data-src': imgSrc,\n    }\n    if (imgSrcSet) {\n      imgAttributes['data-srcset'] = imgSrcSet\n    }\n    className = className ? className + ' __lazy' : '__lazy'\n  }\n\n  // No need to add preloads on the client side--by the time the application is hydrated,\n  // it's too late for preloads\n  const shouldPreload = priority && typeof window === 'undefined'\n\n  if (unsized) {\n    wrapperStyle = undefined\n    sizerStyle = undefined\n    imgStyle = undefined\n  }\n  return (\n    <div style={wrapperStyle}>\n      {shouldPreload\n        ? generatePreload({\n            src,\n            layout,\n            unoptimized,\n            width: widthInt,\n            sizes,\n            quality: qualityInt,\n          })\n        : null}\n      {sizerStyle ? (\n        <div style={sizerStyle}>\n          {sizerSvg ? (\n            <img\n              style={{ maxWidth: '100%', display: 'block' }}\n              alt=\"\"\n              aria-hidden={true}\n              role=\"presentation\"\n              src={`data:image/svg+xml;charset=utf-8,${sizerSvg}`}\n            />\n          ) : null}\n        </div>\n      ) : null}\n      <img\n        {...rest}\n        {...imgAttributes}\n        decoding=\"async\"\n        className={className}\n        sizes={sizes}\n        ref={thisEl}\n        style={imgStyle}\n      />\n    </div>\n  )\n}\n\n//BUILT IN LOADERS\n\ntype LoaderProps = CallLoaderProps & { root: string }\n\nfunction normalizeSrc(src: string) {\n  return src[0] === '/' ? src.slice(1) : src\n}\n\nfunction imgixLoader({ root, src, width, quality }: LoaderProps): string {\n  // Demo: https://static.imgix.net/daisy.png?format=auto&fit=max&w=300\n  const params = ['auto=format', 'fit=max', 'w=' + width]\n  let paramsString = ''\n  if (quality) {\n    params.push('q=' + quality)\n  }\n\n  if (params.length) {\n    paramsString = '?' + params.join('&')\n  }\n  return `${root}${normalizeSrc(src)}${paramsString}`\n}\n\nfunction akamaiLoader({ root, src, width }: LoaderProps): string {\n  return `${root}${normalizeSrc(src)}?imwidth=${width}`\n}\n\nfunction cloudinaryLoader({ root, src, width, quality }: LoaderProps): string {\n  // Demo: https://res.cloudinary.com/demo/image/upload/w_300,c_limit/turtles.jpg\n  const params = ['f_auto', 'c_limit', 'w_' + width]\n  let paramsString = ''\n  if (quality) {\n    params.push('q_' + quality)\n  }\n  if (params.length) {\n    paramsString = params.join(',') + '/'\n  }\n  return `${root}${paramsString}${normalizeSrc(src)}`\n}\n\nfunction defaultLoader({ root, src, width, quality }: LoaderProps): string {\n  if (process.env.NODE_ENV !== 'production') {\n    const missingValues = []\n\n    // these should always be provided but make sure they are\n    if (!src) missingValues.push('src')\n    if (!width) missingValues.push('width')\n\n    if (missingValues.length > 0) {\n      throw new Error(\n        `Next Image Optimization requires ${missingValues.join(\n          ', '\n        )} to be provided. Make sure you pass them as props to the \\`next/image\\` component. Received: ${JSON.stringify(\n          { src, width, quality }\n        )}`\n      )\n    }\n\n    if (src && !src.startsWith('/') && configDomains) {\n      let parsedSrc: URL\n      try {\n        parsedSrc = new URL(src)\n      } catch (err) {\n        console.error(err)\n        throw new Error(\n          `Failed to parse \"${src}\" in \"next/image\", if using relative image it must start with a leading slash \"/\" or be an absolute URL (http:// or https://)`\n        )\n      }\n\n      if (!configDomains.includes(parsedSrc.hostname)) {\n        throw new Error(\n          `Invalid src prop (${src}) on \\`next/image\\`, hostname \"${parsedSrc.hostname}\" is not configured under images in your \\`next.config.js\\`\\n` +\n            `See more info: https://err.sh/nextjs/next-image-unconfigured-host`\n        )\n      }\n    }\n  }\n\n  return `${root}?url=${encodeURIComponent(src)}&w=${width}&q=${quality || 75}`\n}\n"]},"metadata":{},"sourceType":"script"}